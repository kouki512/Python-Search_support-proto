{% extends 'base.html' %}
{%block title%}提案結果 {%endblock%}
{% load static %}
{% block content %}
<div class="container">
    <div class="row">
        <div class="col-lg-8 contents-wrapper">
            <h2 class="section-title ">エラーを読み解く</h2>
            <div class="step all_message">
                <h3><b>エラーメッセージを確認する</b></h3>
                <h6>エラーの解決に必要な文章は以下になります。</h6>
                    <h6><b>{{object.error_message|linebreaksbr}}</b></h6>
                    <h6>エラーを解決するためには、エラーメッセージの中から重要なワードを抜き出し、その意味を理解する必要があります。</h6>
                    <h6>次の章から、エラーメッセージの内容を詳しく見ていきます。</h6>
                
            </div>
            <div class="section">
                <div class="step step1">
                    <h3><b>エラーの概要と発生場所を理解する</b></h3>
                    
                        <!-- 初めに、エラーの概要を理解しましょう。<br>
                        エラーの概要を理解することで、エラーの大まかな理由が分かるようになります。<br>
                        今回は<b>「{{collection_result.general_error}}」</b>という記述に概要が示されています。 -->
                        <h5>初めに、エラーメッセージの一番上の行に着目していきます。</h5>
                    
                        <p class="error-result-content"><b>xxxError in yyy#zzz</b></p>
                        <p>　この文章からは、今回発生しているエラーの概要と、エラーが発生しているコントローラとそのアクション名を読み取ることができます。</p>
                        <div class="focus-general_error">
                            <h4><b>エラーの概要を理解する</b></h4>
                            <h6>今回のエラーの概要は以下のものになります。</h6>
                            <p class="error-result-content"><b>{{collection_result.general_error}}</b></p>
                            <p>　エラーの概要を理解することで、解決の大まかな指針を立てることができるようになります。<br>それにより、場当たり的ではなく、根拠を持ってエラー解決に取り組めるようになります。</p>
                        </div>
                </div>
                <div class="step-title">
                    <h6>{{collection_result.general_error}}については以下のサイトが役に立ちそうです。</h6>
                </div>
                <table class = "table result-table">
                    <tbody>
                        <!-- ワードを繰り返し出力 -->
                        {% for word in general_error_link %}
                        <tr>
                            <!-- viewに情報を送信するためのフォーム -->
                            {% if word == "参考になりそうなページを検索してみましょう。" %}
                                <td class="error-result-content"><li><b>{{word}}</b></li></td>
                            {% else %}
                                <td class="error-result-content"><li><a href={{word}} target="_blank" rel="noopener noreferrer">{{word}}</a></li></td>
                            {% endif %}
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
                <div class="step-title">
                    <h6>{{collection_result.general_error}}について更に理解を深めたい場合は、以下のワードで調べてみましょう。</h6>
                </div>
                <table class = "table result-table">
                    <tbody>
                        <!-- ワードを繰り返し出力 -->
                        {% for word in general_error_word %}
                        <tr>
                            <!-- viewに情報を送信するためのフォーム -->
                            <td class="error-result-content"><li><b>{{word}}</b></li></td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
                <div class="focus-path">
                    <h4><b>エラー発生場所を理解する</b></h4>
                    <h6>今回のエラーが発生している場所は以下に記されています。</h6>
                    <p class="error-result-content"><b>in yyy#zzz</b></p>
                    <p>上記の文章の<b>#</b>を挟んだ<b>左側がコントローラ名、右側がアクション名</b>となります。</p>
                    <p>エラーがどこで起きているかを確認することで、エラー解決の際に見るべきポイントを絞ることができます。</p>
                    <p>※基本的にコントローラ・アクション名が提示されますが、それに<b>関連したファイルでエラーが発生している場合もある</b>ので注意が必要です。<br>
                    【例】（homesコントローラのindexアクションの場合）
                    <ul>
                        <li>モデルファイル（home.rb）</li>
                        <li>viewファイル（index.html.erb等）</li>
                        <li>その他関連しているファイル（CSSファイル等）</li>
                    </ul>
                    </p>
                </div>
            </div>
            <div class="step step2">
                <h3><b>エラーメッセージから問題を解決する</b></h3>
                <h6>エラーメッセージからは、エラーの具体的な内容とその解決の指針を読み取ることができます。</h6>
                <h6>今回のエラーメッセージの中でも<b>「{{collection_result.error_detail}}」</b>の箇所が役に立ちそうです。</h6>
            </div>
            <div class="step-title">
                <h6>以下のワードで検索し、エラーの解決をしましょう。</h6>
            </div>
            <table class = "table result-table">
                <tbody>
                    <!-- ワードを繰り返し出力 -->
                    {% for word in detail_error_word %}
                    <tr>
                        <!-- viewに情報を送信するためのフォーム -->
                        <td class="error-result-content"><li><b>{{word}}</b></li></td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock content %}